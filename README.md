# 产供销协同工作台 V1.0

## 项目概述
产供销协同工作台是一个基于React + Ant Design的现代化企业管理系统，主要用于生产计划管理和物料准备计划管理。系统采用响应式设计，支持数据导入导出，提供直观的表格操作界面。

## 系统架构
- **前端框架**: React 18.2.0 + Vite 5.0.8
- **UI组件库**: Ant Design 5.12.8 + @ant-design/pro-components 2.6.48
- **路由管理**: React Router DOM 6.8.1
- **日期处理**: Day.js 1.11.10
- **数据导出**: SheetJS (xlsx) 0.18.5
- **图标库**: @ant-design/icons 5.2.6

## 功能模块

### 主导航菜单
- **需求池**
    - 生产计划
    - 物料准备计划
- **专业OEM** (预留扩展)
    - 采购合同
    - 到货
    - 质量验收
    - 入库

### 生产计划模块

#### 功能描述
生产计划模块为生产部门提供轴承生产计划的制定和管理功能，支持按旬期（10天）进行计划排期。

#### 核心特性
- **计划维度**: 按旬期（10天）进行计划排期
- **产品类型**: 轴承产品，支持多种型号（如6205、6206、6207、6315-2RZ、6311-2Z等）
- **数据展示**: 双行显示模式，上行显示预期需求，下行为用户输入的实际计划
- **智能计算**: 支持总计自动平分到每日，或单独修改每日计划后自动计算总计
- **需求详情**: 点击有需求的日期可查看详细需求分解

#### 表格结构
- **型号列**: 轴承产品型号
- **质量要求列**: 显示特殊质量要求（如高精度、耐高温、防腐蚀等）
- **往期结转列**: 期初库存数量
- **日期列**: 10天的具体日期（MM/DD格式）
- **生产线列**: 可选择1-10号生产线
- **汇总列**: 显示旬期总计划量

#### 筛选功能
- **计划旬期**: 支持选择年月旬期（上旬/中旬/下旬）
- **成品型号**: 支持按型号筛选
- **分厂筛选**: 支持按分厂筛选（电机、铁路、精密、黄海等）

#### 操作功能
- **保存**: 保存当前制定的生产计划
- **导出Excel**: 将计划数据导出为Excel文件
- **合计统计**: 自动计算各列合计数据

### 物料准备计划模块

#### 功能描述
物料准备计划模块包含两个独立的表格，分别管理物料准备计划和原材料物料准备计划，为采购部门提供完整的采购计划制定功能。

#### 物料准备计划表格

**功能特性**:
- **计划维度**: 按旬期（10天）制定采购计划
- **产品范围**: 轴承成品（6205-2RS、6206-ZZ、6207-RS、SKF-6208、NSK-6209等）
- **数据录入**: 支持每日采购量直接输入
- **自动汇总**: 自动计算旬期总采购量

**表格结构**:
- **型号列**: 轴承成品型号
- **日期列**: 10天的具体日期，每日可输入采购量
- **汇总列**: 显示旬期总采购量

#### 原材料物料准备计划表格

**功能特性**:
- **材料分类**: 支持5大类原材料（内圈、外圈、滚动体、保持架、密封件）
- **型号管理**: 每类材料支持多种型号规格
- **采购类型**: 区分外购和自产两种类型
- **动态添加**: 支持新增原材料采购行
- **分类筛选**: 支持按材料类别筛选显示

**表格结构**:
- **原材料列**: 下拉选择原材料名称和型号
- **采购类型列**: 选择外购或自产
- **日期列**: 10天的具体日期，每日可输入采购量
- **汇总列**: 显示旬期总采购量

**原材料类型**:
- 内圈系列：内圈-6205、内圈-6206、内圈-6207
- 外圈系列：外圈-6205、外圈-6206、外圈-6207、外圈-6315-2RZ
- 滚动体系列：滚动体-6205、滚动体-6206、滚动体-6207
- 保持架系列：保持架-6205、保持架-6206、保持架-6207
- 密封件系列：密封件-通用型、密封件-高温型、密封件-低温型

#### 筛选功能
- **计划旬期**: 支持选择年月旬期（上旬/中旬/下旬）
- **材料分类**: 支持按原材料类别筛选（全部、内圈、外圈、滚动体、保持架、密封件）

#### 操作功能
- **保存**: 保存当前制定的物料准备计划
- **导出Excel**: 将需求数据导出为Excel文件（包含成品和原材料两个工作表）
- **新增行**: 支持动态添加新的原材料物料准备计划行
- **合计统计**: 自动计算各列合计数据

## 技术实现

### 技术栈详情
- **构建工具**: Vite 5.0.8 (ES Modules)
- **前端框架**: React 18.2.0 (函数式组件 + Hooks)
- **UI组件库**: 
  - Ant Design 5.12.8 (主要UI组件)
  - @ant-design/pro-components 2.6.48 (高级组件)
  - @ant-design/icons 5.2.6 (图标库)
- **路由管理**: React Router DOM 6.8.1
- **状态管理**: React Hooks (useState, useEffect, useRef)
- **日期处理**: Day.js 1.11.10
- **数据导出**: SheetJS (xlsx) 0.18.5
- **开发语言**: JavaScript (JSX)

### 核心组件使用
- **Layout**: 侧边栏布局，支持折叠
- **Menu**: 多级菜单导航
- **Table**: 复杂表格展示，支持固定列、合计行、分页
- **Form**: 表单筛选和数据录入
- **InputNumber**: 数值输入控件
- **Select**: 下拉选择控件
- **DatePicker**: 日期选择控件
- **Card**: 卡片容器
- **Button**: 操作按钮
- **Drawer**: 抽屉式详情展示

### 数据管理
- **Mock数据**: 内置模拟数据用于演示
- **状态管理**: 使用React Hooks管理组件状态
- **数据流**: 单向数据流，通过props和回调函数传递
- **本地存储**: 支持Excel格式数据导出

### 响应式设计
- **表格滚动**: 支持水平滚动适配不同屏幕
- **固定列**: 重要列固定显示
- **自适应布局**: 侧边栏支持折叠
- **移动端友好**: 基于Ant Design响应式设计

## 设计规范

### UI设计原则
- **严格遵循Ant Design设计规范**
- **保持易用、简洁、高效的用户体验**
- **统一的视觉风格和交互模式**
- **清晰的信息层级和数据展示**

### 交互设计
- **直观的表格操作**: 双行显示模式，上行显示预期，下行输入实际
- **智能数据联动**: 总计与明细自动计算
- **便捷的筛选功能**: 多维度数据筛选
- **友好的反馈机制**: 操作成功提示和错误处理

### 视觉设计
- **现代化界面**: 简洁的卡片式布局
- **清晰的数据展示**: 表格行列对齐，数据易读
- **合理的色彩运用**: 重要数据高亮显示
- **一致的间距规范**: 统一的页面边距和组件间距

## 项目特色

### 创新功能
1. **双行数据展示**: 预期需求与实际计划同时显示，便于对比
2. **智能计算**: 支持总计平分和明细汇总双向计算
3. **需求详情钻取**: 点击需求数据可查看详细分解
4. **动态表格管理**: 支持动态添加和删除表格行
5. **多维度筛选**: 支持时间、类别、型号等多维度筛选

### 用户体验优化
1. **操作便捷**: 一键保存、导出功能
2. **数据可视**: 清晰的数据展示和合计统计
3. **响应迅速**: 基于Vite的快速开发和构建
4. **界面友好**: 现代化的UI设计和交互体验

## 部署说明

### 开发环境
```bash
npm install
npm run dev
```

### 生产构建
```bash
npm run build
npm run preview
```

### 系统要求
- Node.js 16+
- 现代浏览器支持 (Chrome 88+, Firefox 78+, Safari 14+)
- 推荐分辨率: 1920x1080 及以上